# Do some important numbers on SATA SSD drives, to gauge what kind of
# performance you might get out of them.
#
# Sequential read and write speeds are tested, these are expected to be
# high. Random reads should also be fast, random writes are where crap
# drives are usually separated from the good drives.
#
# This uses a queue depth of 4. New SATA SSD's will support up to 32
# in flight commands, so it may also be interesting to increase the queue
# depth and compare. Note that most real-life usage will not see that
# large of a queue depth, so 4 is more representative of normal use.
#
[global]
ioengine=libaio
iodepth=32
direct=1
numjobs=1
group_reporting
filename=/dev/sda

[sequential-fill]
description=Sequential fill phase
rw=write
bs=1M
stonewall

[ss-seq-read]
description=Sequential read steady state phase
rw=read
bs=4k
runtime=10m
ss=bw_slope:1%
ss_dur=30s
ss_ramp=10s
write_bw_log
stonewall
#
# Begin ss detection 10s after job starts
# Terminate job when bandwidth slope is less than 1% of avg bw
# Use a rolling 30s window for deviations
#

[ss-seq-write]
description=Sequential write steady state phase
rw=write
bs=4k
runtime=10m
ss=bw_slope:1%
ss_dur=30s
ss_ramp=10s
write_bw_log
stonewall

[ss-rand-read]
description=Random read steady state phase
rw=randread
bs=4k
runtime=10m
ss=bw_slope:1%
ss_dur=30s
ss_ramp=10s
write_bw_log
stonewall

[ss-rand-write]
description=Random write steady state phase
rw=randwrite
bs=4k
runtime=10m
ss=bw_slope:1%
ss_dur=30s
ss_ramp=10s
write_bw_log
stonewall
